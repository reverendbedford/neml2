<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NEML2: Testing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/ams','[tex]/physics','[tex]/boldsymbol']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','ams','physics','boldsymbol']
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NEML2<span id="projectnumber">&#160;1.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('testing.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Testing</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#testing-catch-tests">Catch tests</a></li>
<li class="level1"><a href="#testing-unit-tests">Unit tests</a></li>
<li class="level1"><a href="#testing-regression-tests">Regression tests</a></li>
<li class="level1"><a href="#testing-verification-tests">Verification tests</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md__2home_2runner_2work_2neml2_2neml2_2doc_2content_2dev_2testing"></a></p>
<p>It is of paramount importance to ensure the correctness of the implementation. NEML2 offers four types of tests for different purposes.</p>
<h1><a class="anchor" id="testing-catch-tests"></a>
Catch tests</h1>
<p>A Catch test refers to a test directly written in C++ source code within the Catch2 framework. It offers the highest level of flexibility, but requires more effort to set up. To understand how a Catch2 test works, please refer to the <a href="https://github.com/catchorg/Catch2/blob/v2.x/docs/tutorial.md">official Catch2 documentation</a>.</p>
<h1><a class="anchor" id="testing-unit-tests"></a>
Unit tests</h1>
<p>A model unit test examines the outputs of a <code>Model</code> given a predefined set of inputs. Model unit tests can be directly designed using the input file syntax with the <code>ModelUnitTest</code> type. A variety of checks can be turned on and off based on input file options. To list a few: <code>check_first_derivatives</code> compares the implemented first order derivatives of the model against finite-differencing results, and the test is marked as passing only if the two derivatives are within tolerances specified with <code>derivative_abs_tol</code> and <code>derivative_rel_tol</code>; if <code>check_cuda</code> is set to <code>true</code>, all checks are repeated a second time on GPU (if available).</p>
<p>All input files for model unit tests should be stored inside <code>tests/unit/models</code>. Every input file with the <code>.i</code> extension will be automatically discovered and executed. To run all the model unit tests, use the following commands </p><div class="fragment"><div class="line">cd tests</div>
<div class="line">../build/unit/unit_tests models</div>
</div><!-- fragment --><p>To run a specific model unit test, use the <code>-c</code> command line option followed by the relative location of the input file, i.e. </p><div class="fragment"><div class="line">cd tests</div>
<div class="line">../build/unit/unit_tests models -c solid_mechanics/LinearIsotropicElasticity.i</div>
</div><!-- fragment --><h1><a class="anchor" id="testing-regression-tests"></a>
Regression tests</h1>
<p>A model regression test runs a <code>Model</code> using a user specified driver. The results are compared against a predefined reference (stored on the disk checked into the repository). The test passes only if the current results are the same as the predefined reference (again within specified tolerances). The regression tests ensure the consistency of implementations across commits. Currently, <code>TransientRegression</code> is the only supported type of regression test.</p>
<p>Each input file for model regression tests should be stored inside a separate folder inside <code>tests/regression</code>. Every input file with the <code>.i</code> extension will be automatically discovered and executed. To run all the model regression tests, use the <code>regression_tests</code> executable followed by the physics module, i.e. </p><div class="fragment"><div class="line">cd tests</div>
<div class="line">../build/regression/regression_tests &quot;solid mechanics&quot;</div>
</div><!-- fragment --><p> To run a specific model regression test, use the <code>-c</code> command line option followed by the relative location of the input file, i.e. </p><div class="fragment"><div class="line">cd tests</div>
<div class="line">../build/regression/regression_tests &quot;solid mechanics&quot; -c viscoplasticity/chaboche/model.i</div>
</div><!-- fragment --><p> Note that the regression test expects an option <code>reference</code> which specifies the relative location to the reference solution.</p>
<h1><a class="anchor" id="testing-verification-tests"></a>
Verification tests</h1>
<p>The model verification test is similar to the model regression test in terms of workflow. The difference is the a verification test defines the reference solution using NEML, the predecessor of NEML2. Since NEML was developed with strict software assurance, the verification tests ensure that the migration from NEML to NEML2 does not cause any regression in software quality.</p>
<p>Each input file for model verification tests should be stored inside a separate folder inside <code>tests/verification</code>. Every input file with the <code>.i</code> extension will be automatically discovered and executed. To run all the model verification tests, use the <code>verification_tests</code> executable followed by the physics module, i.e. </p><div class="fragment"><div class="line">cd tests</div>
<div class="line">../build/verification/verification_tests &quot;solid mechanics&quot;</div>
</div><!-- fragment --><p>To run a specific model verification test, use the <code>-c</code> command line option followed by the relative location of the input file, i.e. </p><div class="fragment"><div class="line">cd tests</div>
<div class="line">../build/verification/verification_tests &quot;solid mechanics&quot; -c chaboche/chaboche.i</div>
</div><!-- fragment --><p> The regression test compares variables (specified using the <code>variables</code> option) against reference values (specified using the <code>references</code> option). The reference variables can be read using input objects with type <code>VTestTimeSeries</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
